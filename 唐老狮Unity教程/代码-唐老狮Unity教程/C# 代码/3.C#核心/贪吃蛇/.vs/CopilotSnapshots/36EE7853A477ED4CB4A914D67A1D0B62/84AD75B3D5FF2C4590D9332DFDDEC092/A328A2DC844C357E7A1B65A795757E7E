using System;

namespace 贪吃蛇.Main
{
    /// <summary>
    /// 按钮UI元素
    /// </summary>
    public class ButtonElement : IUIElement
    {
        private string _text;
        private Action _action;

        public ButtonElement(string text, Action action)
        {
            _text = text;
            _action = action;
        }

        public void Render(int centerX, int startY, bool isSelected)
        {
            Console.ForegroundColor = isSelected ? ConsoleColor.Red : ConsoleColor.White;
            Console.SetCursorPosition(centerX - UIHelper.GetDisplayWidth(_text) / 2, startY);
            Console.WriteLine(_text);
        }

        public int GetHeight() => 1;

        public void Execute() => _action?.Invoke();
    }
}